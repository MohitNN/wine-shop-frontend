(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{1095:function(t,e,o){"use strict";o.r(e);o(8),o(7),o(5),o(9),o(10);var r,c=o(1),l=(o(4),o(6),o(116),o(958)),n=o(29),d=o(964);function m(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,o)}return e}function v(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(e){Object(c.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var y={components:{layout:l.a,ValidationProvider:d.b,ValidationObserver:d.a},computed:v({},Object(n.e)("Products",["category","brand","subCategory","type","type_List","typeIdList"])),data:function(){return{image:[],imageFile:[],imageUrl:"../../assets/images/pro3/33.jpg",getImgUrl:"@assets/images/",products:{product_name:"",category_id:null,type_id:null,sub_category_id:null,brand_id:null,quantity:0,price:"",fake_price:"",discount:"",onsell:!0}}},created:function(){this.getAllCategory(),this.getBrand(),console.log(this.getType())},methods:v(v({preview:function(i){document.getElementById("sawImg").src=i},sawProduct:function(){var t=this,e=new FormData;e.append("product_name",this.products.product_name),e.append("category_id",this.products.category_id),e.append("type_id",this.products.type_id),e.append("sub_category_id",this.products.sub_category_id?this.products.sub_category_id:null),e.append("brand_id",this.products.brand_id),e.append("quantity",this.products.quantity),e.append("price",this.products.price),e.append("fake_price",this.products.fake_price),e.append("discount",this.products.discount),e.append("onsell",!!this.products.onsell),this.imageFile.forEach((function(element,t){e.append("image[".concat(t,"]"),element)})),this.saveProduct(e).then((function(e){e.data.status&&(t.$toast.success("Product added"),t.$router.push("/admin/product"))})).catch((function(e){t.$toast.error("Something Want Wrong")}))}},Object(n.b)({saveProduct:"Products/saveProduct",getAllCategory:"Products/getCategory",getBrand:"Products/getBrand",getSubCategory:"Products/getSubCategory",getType:"Products/getType",getTypeFormCategory:"Products/getTypeFormCategory",getTypeFormSubCategory:"Products/getTypeFormSubCategory"})),{},(r={decrement:function(){this.products.quantity>1&&this.products.quantity--},getSubCateFromcate:function(data){this.getSubCategory(data)},onFileChange:function(t){var e=t.target.files;if(console.log(e),e.length){this.createImage(e[0]),this.storeImage(e[0]);var o=new FileReader;o.onload=function(){document.getElementById("sawImg").src=o.result},o.readAsDataURL(t.target.files[0])}},storeImage:function(t){this.imageFile.push(t)},createImage:function(t){var e=this,o=new FileReader;o.onload=function(t){e.image.push(t.target.result)},o.readAsDataURL(t)}},Object(c.a)(r,"getSubCateFromcate",(function(data){this.products.sub_category_id=null,this.getSubCategory(data)})),Object(c.a)(r,"getCategoryTotype",(function(data){this.products.type_id=null,this.products.sub_category_id=null,this.getTypeFormCategory(data)})),Object(c.a)(r,"getTypeToSubCategory",(function(data){this.products.sub_category_id=null,this.getTypeFormSubCategory(data)})),Object(c.a)(r,"removeImage",(function(t){this.image.splice(t,1),document.getElementById("sawImg").src=""})),r))},_=o(34),component=Object(_.a)(y,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("layout",{scopedSlots:t._u([{key:"content",fn:function(){return[r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-12"},[r("div",{staticClass:"card"},[r("div",{staticClass:"card-header"},[r("h5",[t._v("Add Product")])]),t._v(" "),r("div",{staticClass:"card-body"},[r("div",{staticClass:"row product-adding"},[r("div",{staticClass:"col-xl-5"},[r("div",{staticClass:"add-product"},[r("div",{staticClass:"row"},[r("div",{staticClass:" col-xl-9 xl-50 col-sm-6 col-9 d-flex justify-content-center "},[r("img",{staticClass:"img-fluid image_zoom_1 blur-up lazyloaded",staticStyle:{"object-fit":"contain !important"},attrs:{src:o(381),id:"sawImg"}})]),t._v(" "),r("div",{staticClass:"col-xl-3 xl-50 col-sm-6 col-3"},[r("ul",{staticClass:"file-upload-product"},[t._l(t.image,(function(i,e){return r("li",{key:e},[r("img",{staticClass:"box-input-file",staticStyle:{"object-fit":"contain !important"},attrs:{src:i},on:{click:function(e){return t.preview(i)}}}),t._v(" "),r("feather",{staticClass:"icon",staticStyle:{cursor:"pointer"},attrs:{type:"x","stroke-width":"1",size:"20px"},on:{click:function(o){return t.removeImage(e)}}})],1)})),t._v(" "),r("li",{staticStyle:{cursor:"pointer"}},[r("div",{staticClass:"box-input-file"},[r("input",{staticClass:"upload",attrs:{type:"file"},on:{change:t.onFileChange}}),t._v(" "),r("feather",{attrs:{type:"plus"}})],1)])],2)])])])]),t._v(" "),r("div",{staticClass:"col-xl-7"},[r("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(e){var o=e.invalid;return[r("form",{staticClass:"needs-validation add-product-form",attrs:{novalidate:""}},[r("div",{staticClass:"form"},[r("ValidationProvider",{attrs:{rules:"required",name:"name"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors;return[r("div",{staticClass:"form-group mb-3 row"},[r("label",{staticClass:"col-xl-3 col-sm-4 mb-0",attrs:{for:"validationCustom01"}},[t._v("Name :")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.products.product_name,expression:"products.product_name"}],staticClass:"form-control col-xl-8 col-sm-7",attrs:{name:"name",placeholder:"Product Name",id:"validationCustom01",type:"text"},domProps:{value:t.products.product_name},on:{input:function(e){e.target.composing||t.$set(t.products,"product_name",e.target.value)}}}),t._v(" "),r("span",{staticClass:"validate-error"},[t._v(t._s(o[0]))])])]}}],null,!0)}),t._v(" "),r("ValidationProvider",{attrs:{rules:"required",name:"brand"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors;return[r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-xl-3 col-sm-4 mb-0",attrs:{for:"exampleFormControlSelect1"}},[t._v("Brand :")]),t._v(" "),r("v-select",{staticClass:"col-xl-8 col-sm-7 pr-0 pl-0",attrs:{placeholder:"Select Brand",options:t.brand,name:"brand",label:"name",reduce:function(t){return t.id},index:"id"},model:{value:t.products.brand_id,callback:function(e){t.$set(t.products,"brand_id",e)},expression:"products.brand_id"}}),t._v(" "),r("span",{staticClass:"validate-error"},[t._v(t._s(o[0]))])],1)]}}],null,!0)}),t._v(" "),r("ValidationProvider",{attrs:{rules:"required",name:"category"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors;return[r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-xl-3 col-sm-4 mb-0",attrs:{for:"exampleFormControlSelect1"}},[t._v("Category :")]),t._v(" "),r("v-select",{staticClass:"col-xl-8 col-sm-7 pr-0 pl-0",attrs:{name:"category",placeholder:"Select Category",options:t.category,reduce:function(t){return t.id},label:"name",index:"id"},on:{input:t.getCategoryTotype},model:{value:t.products.category_id,callback:function(e){t.$set(t.products,"category_id",e)},expression:"products.category_id"}}),t._v(" "),r("span",{staticClass:"validate-error"},[t._v(t._s(o[0]))])],1)]}}],null,!0)}),t._v(" "),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-xl-3 col-sm-4 mb-0",attrs:{for:"exampleFormControlSelect1"}},[t._v("Type :")]),t._v(" "),r("v-select",{staticClass:"col-xl-8 col-sm-7 pr-0 pl-0",attrs:{name:"Type",placeholder:"Select Type",options:t.type_List,reduce:function(t){return t.id},label:"type_name",index:"id"},on:{input:t.getTypeToSubCategory},model:{value:t.products.type_id,callback:function(e){t.$set(t.products,"type_id",e)},expression:"products.type_id"}})],1),t._v(" "),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-xl-3 col-sm-4 mb-0",attrs:{for:"exampleFormControlSelect1"}},[t._v("Sub Category :")]),t._v(" "),r("v-select",{staticClass:"col-xl-8 col-sm-7 pr-0 pl-0",attrs:{name:"subcategory",placeholder:"Select Sub Category",options:t.typeIdList,reduce:function(t){return t.id},disabled:!(t.typeIdList.length>0),label:"name"},model:{value:t.products.sub_category_id,callback:function(e){t.$set(t.products,"sub_category_id",e)},expression:"products.sub_category_id"}})],1),t._v(" "),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-xl-3 col-sm-4 mb-0"},[t._v("Total Products :")]),t._v(" "),r("fieldset",{staticClass:"qty-box col-xl-9 col-xl-8 col-sm-7 pl-0 qty-responsive"},[r("div",{staticClass:"input-group flex-nowrap"},[r("b-input-group-prepend",[r("b-btn",{attrs:{variant:"primary"},on:{click:t.decrement}},[t._v("-")])],1),t._v(" "),r("b-input",{staticClass:"form-control input-number",attrs:{type:"text",name:"quantity"},model:{value:t.products.quantity,callback:function(e){t.$set(t.products,"quantity",e)},expression:"products.quantity"}}),t._v(" "),r("b-input-group-append",[r("b-btn",{attrs:{variant:"primary"},on:{click:function(e){t.products.quantity++}}},[t._v("+")])],1)],1)])]),t._v(" "),r("div",{staticClass:"form-group mb-3 row"},[r("label",{staticClass:"col-xl-3 col-sm-4 mb-0",attrs:{for:"validationCustom02"}},[t._v("Price :")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.products.price,expression:"products.price"}],staticClass:"form-control col-xl-8 col-sm-7",attrs:{placeholder:"Price",id:"validationCustom02",type:"text",required:""},domProps:{value:t.products.price},on:{input:function(e){e.target.composing||t.$set(t.products,"price",e.target.value)}}})]),t._v(" "),r("div",{staticClass:"form-group mb-3 row"},[r("label",{staticClass:"col-xl-3 col-sm-4 mb-0",attrs:{for:"validationCustom02"}},[t._v("Fake Price :")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.products.fake_price,expression:"products.fake_price"}],staticClass:"form-control col-xl-8 col-sm-7",attrs:{placeholder:"Fake Price",id:"validationCustom02",type:"text",required:""},domProps:{value:t.products.fake_price},on:{input:function(e){e.target.composing||t.$set(t.products,"fake_price",e.target.value)}}})]),t._v(" "),r("div",{staticClass:"form-group mb-3 row"},[r("label",{staticClass:"col-xl-3 col-sm-4 mb-0",attrs:{for:"validationCustom02"}},[t._v("discount :")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.products.discount,expression:"products.discount"}],staticClass:"form-control col-xl-8 col-sm-7",attrs:{placeholder:"discount",id:"validationCustom02",type:"text",required:""},domProps:{value:t.products.discount},on:{input:function(e){e.target.composing||t.$set(t.products,"discount",e.target.value)}}})]),t._v(" "),r("div",{staticClass:"form-group row dd d-block"},[r("label",{staticClass:"col-xl-3 col-sm-4 mb-0",attrs:{for:"exampleFormControlSelect1"}},[t._v("Status :")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.products.onsell,expression:"products.onsell"}],attrs:{id:"validationCustom02",type:"checkbox",required:""},domProps:{checked:Array.isArray(t.products.onsell)?t._i(t.products.onsell,null)>-1:t.products.onsell},on:{change:function(e){var o=t.products.onsell,r=e.target,c=!!r.checked;if(Array.isArray(o)){var l=t._i(o,null);r.checked?l<0&&t.$set(t.products,"onsell",o.concat([null])):l>-1&&t.$set(t.products,"onsell",o.slice(0,l).concat(o.slice(l+1)))}else t.$set(t.products,"onsell",c)}}}),t._v("\r\n                                                    On Sell\r\n                                                ")])],1),t._v(" "),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-xl-3 col-md-4"}),t._v(" "),r("button",{staticClass:"btn btn-primary",class:o?"btn-solid-disabled":"btn-solid",attrs:{type:"button",disabled:o},on:{click:t.sawProduct}},[t._v("\r\n                                                Add\r\n                                            ")]),t._v(" "),r("button",{staticClass:"btn btn-light ml-1",attrs:{type:"button"},on:{click:function(e){return t.$router.push("/admin/product")}}},[t._v("\r\n                                                Discard\r\n                                            ")])])])]}}])})],1)])])])])])]},proxy:!0}])})}),[],!1,null,null,null);e.default=component.exports}}]);