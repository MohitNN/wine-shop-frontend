(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{1139:function(t,e,r){"use strict";r.r(e);r(8),r(7),r(5),r(9),r(10);var o=r(14),c=r(1),n=(r(4),r(6),r(55),r(959)),l=r(27),d=r(19),m=r(965);function v(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function f(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(Object(source),!0).forEach((function(e){Object(c.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):v(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var _={components:{layout:n.a,ValidationProvider:m.b,ValidationObserver:m.a},computed:f(f({},Object(l.e)("Products",["category","brand","subCategory","singleProduct","type_List"])),{},{productSingle:function(){return this.singleProduct}}),data:function(){return{image:[],imageFile:[],productsData:null,imageUrlSet:d.baseUrl+"products/",imageUrl:"../../assets/images/pro3/33.jpg",getImgUrl:"@assets/images/",products:{product_name:"",category_id:null,type_id:null,sub_category_id:null,brand_id:null,quantity:0,price:"",fake_price:"",discount:"",onsell:!0,id:null},img:"@/assets/images/imgPerview.png"}},created:function(){this.getAllCategory(),this.getBrand()},mounted:function(){this.init()},methods:f(f({init:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getAllCategory();case 2:return e.next=4,t.getBrand();case 4:return e.next=6,t.getSingleProduct(t.$route.params.editProduct).then((function(e){e.data.status&&(t.products=e.data.data)})).catch((function(t){}));case 6:case"end":return e.stop()}}),e)})))()},preview:function(i){document.getElementById("sawImg").src=this.imageUrlSet+i.image},sawProduct:function(){var t=this,e=new FormData;e.append("product_name",this.products.product_name),e.append("id",this.$route.params.editProduct),e.append("category_id",this.products.category_id),e.append("type_id",this.products.type_id),e.append("sub_category_id",this.products.sub_category_id?this.products.sub_category_id:null),e.append("brand_id",this.products.brand_id),e.append("quantity",this.products.quantity),e.append("price",this.products.price),e.append("fake_price",this.products.fake_price),e.append("discount",this.products.discount),e.append("onsell",!!this.products.onsell),this.imageFile.forEach((function(element,t){e.append("image[".concat(t,"]"),element)})),this.saveProduct(e).then((function(e){e.data.status&&(t.$toast.success("Product added"),t.$router.push("/admin/product"))})).catch((function(e){t.$toast.error("Something Want Wrong")}))}},Object(l.b)({saveProduct:"Products/EditProduct",getAllCategory:"Products/getCategory",getBrand:"Products/getBrand",getSingleProduct:"Products/getSingleProduct",getSubCategory:"Products/getSubCategory",getType:"Products/getType",productImageDelete:"Products/productImageDelete",getTypeFormCategory:"Products/getTypeFormCategory"})),{},{decrement:function(){this.products.quantity>1&&this.products.quantity--},getSubCateFromcate:function(data){this.getSubCategory(data)},onFileChange:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o=t.target.files,console.log(o),o.length){r.next=4;break}return r.abrupt("return");case 4:return r.next=6,e.imageFile.push(o[0]);case 6:return e.products.image=e.imageFile,e.products.onsell=!!e.products.onsell,r.next=10,e.saveProduct(e.products).then((function(t){t.data.status&&e.getSingleProduct(e.$route.params.editProduct).then((function(t){t.data.status&&(e.products=t.data.data)})).catch((function(t){}))}));case 10:case"end":return r.stop()}}),r)})))()},storeImage:function(t){this.imageFile.push(t)},createImage:function(t){var e=this,r=new FileReader;r.onload=function(t){e.products.product_images.push({image:t.target.result})},r.readAsDataURL(t)},removeImage:function(t){var e=this;this.productImageDelete(t.id).then((function(t){t.data.status&&(e.$toast.success("Product delete"),e.init())}))},getCategoryTotype:function(data){this.products.type_id="",this.products.sub_category_id="",this.getTypeFormCategory(data)}})},y=r(34),component=Object(y.a)(_,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("layout",{scopedSlots:t._u([{key:"content",fn:function(){return[o("div",{staticClass:"row"},[o("div",{staticClass:"col-sm-12"},[o("div",{staticClass:"card"},[o("div",{staticClass:"card-header"},[o("h5",[t._v("Edit Product")])]),t._v(" "),o("div",{staticClass:"card-body"},[o("div",{staticClass:"row product-adding"},[o("div",{staticClass:"col-xl-5"},[o("div",{staticClass:"add-product"},[o("div",{staticClass:"row"},[o("div",{staticClass:"\n                        col-xl-9\n                        xl-50\n                        col-sm-6 col-9\n                        d-flex\n                        justify-content-center\n                      "},[t.products.product_images&&t.products.product_images.length?o("img",{staticClass:"img-fluid image_zoom_1 blur-up lazyloaded",attrs:{src:t.imageUrlSet+t.products.product_images[0].image,id:"sawImg"}}):o("img",{staticClass:"img-fluid image_zoom_1 blur-up lazyloaded",staticStyle:{"object-fit":"contain !important"},attrs:{src:r(378),id:"sawImg"}})]),t._v(" "),o("div",{staticClass:"col-xl-3 xl-50 col-sm-6 col-3"},[o("ul",{staticClass:"file-upload-product"},[t._l(t.products.product_images,(function(i,e){return o("li",{key:e},[o("img",{staticClass:"box-input-file",attrs:{src:t.imageUrlSet+i.image},on:{click:function(e){return t.preview(i)}}}),t._v(" "),o("feather",{staticClass:"icon",staticStyle:{cursor:"pointer"},attrs:{type:"x","stroke-width":"1",size:"20px"},on:{click:function(e){return t.removeImage(i)}}})],1)})),t._v(" "),o("li",{staticStyle:{cursor:"pointer"}},[o("div",{staticClass:"box-input-file"},[o("input",{staticClass:"upload",attrs:{type:"file"},on:{change:t.onFileChange}}),t._v(" "),o("feather",{attrs:{type:"plus"}})],1)])],2)])])])]),t._v(" "),o("div",{staticClass:"col-xl-7"},[o("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(e){var r=e.invalid;return[o("form",{staticClass:"needs-validation add-product-form",attrs:{novalidate:""}},[o("div",{staticClass:"form"},[o("ValidationProvider",{attrs:{rules:"required",name:"name"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[o("div",{staticClass:"form-group mb-3 row"},[o("label",{staticClass:"col-xl-3 col-sm-4 mb-0",attrs:{for:"validationCustom01"}},[t._v("Name :")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.products.product_name,expression:"products.product_name"}],staticClass:"form-control col-xl-8 col-sm-7",attrs:{name:"name",placeholder:"Product Name",id:"validationCustom01",type:"text"},domProps:{value:t.products.product_name},on:{input:function(e){e.target.composing||t.$set(t.products,"product_name",e.target.value)}}}),t._v(" "),o("span",{staticClass:"validate-error"},[t._v(t._s(r[0]))])])]}}],null,!0)}),t._v(" "),o("ValidationProvider",{attrs:{rules:"required",name:"brand"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-xl-3 col-sm-4 mb-0",attrs:{for:"exampleFormControlSelect1"}},[t._v("Brand :")]),t._v(" "),o("v-select",{staticClass:"col-xl-8 col-sm-7 pr-0 pl-0",attrs:{placeholder:"Select Brand",options:t.brand,name:"brand",label:"name",reduce:function(t){return t.id},index:"id"},model:{value:t.products.brand_id,callback:function(e){t.$set(t.products,"brand_id",e)},expression:"products.brand_id"}}),t._v(" "),o("span",{staticClass:"validate-error"},[t._v(t._s(r[0]))])],1)]}}],null,!0)}),t._v(" "),o("ValidationProvider",{attrs:{rules:"required",name:"category"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-xl-3 col-sm-4 mb-0",attrs:{for:"exampleFormControlSelect1"}},[t._v("Category :")]),t._v(" "),o("v-select",{staticClass:"col-xl-8 col-sm-7 pr-0 pl-0",attrs:{name:"category",placeholder:"Select Category",options:t.category,reduce:function(t){return t.id},label:"name",index:"id"},on:{input:t.getCategoryTotype},model:{value:t.products.category_id,callback:function(e){t.$set(t.products,"category_id",e)},expression:"products.category_id"}}),t._v(" "),o("span",{staticClass:"validate-error"},[t._v(t._s(r[0]))])],1)]}}],null,!0)}),t._v(" "),o("ValidationProvider",{attrs:{rules:"required",name:"type"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-xl-3 col-sm-4 mb-0",attrs:{for:"exampleFormControlSelect1"}},[t._v("Type :")]),t._v(" "),o("v-select",{staticClass:"col-xl-8 col-sm-7 pr-0 pl-0",attrs:{name:"type",placeholder:"Select Category",options:t.type_List,reduce:function(t){return t.id},label:"type_name",index:"id"},model:{value:t.products.type_id,callback:function(e){t.$set(t.products,"type_id",e)},expression:"products.type_id"}}),t._v(" "),o("span",{staticClass:"validate-error"},[t._v(t._s(r[0]))])],1)]}}],null,!0)}),t._v(" "),o("ValidationProvider",{attrs:{rules:"required",name:"subcategory"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-xl-3 col-sm-4 mb-0",attrs:{for:"exampleFormControlSelect1"}},[t._v("Sub Category :")]),t._v(" "),o("v-select",{staticClass:"col-xl-8 col-sm-7 pr-0 pl-0",attrs:{name:"subcategory",placeholder:"Select Sub Category",options:t.subCategory,reduce:function(t){return t.id},disabled:!(t.subCategory.length>0),label:"name"},model:{value:t.products.sub_category_id,callback:function(e){t.$set(t.products,"sub_category_id",e)},expression:"products.sub_category_id"}}),t._v(" "),o("span",{staticClass:"validate-error"},[t._v(t._s(r[0]))])],1)]}}],null,!0)}),t._v(" "),o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-xl-3 col-sm-4 mb-0"},[t._v("Total Products :")]),t._v(" "),o("fieldset",{staticClass:"\n                            qty-box\n                            col-xl-9 col-xl-8 col-sm-7\n                            pl-0\n                            qty-responsive\n                          "},[o("div",{staticClass:"input-group flex-nowrap"},[o("b-input-group-prepend",[o("b-btn",{attrs:{variant:"primary"},on:{click:t.decrement}},[t._v("-")])],1),t._v(" "),o("b-input",{staticClass:"form-control input-number",attrs:{type:"text",name:"quantity"},model:{value:t.products.quantity,callback:function(e){t.$set(t.products,"quantity",e)},expression:"products.quantity"}}),t._v(" "),o("b-input-group-append",[o("b-btn",{attrs:{variant:"primary"},on:{click:function(e){t.products.quantity++}}},[t._v("+")])],1)],1)])]),t._v(" "),o("div",{staticClass:"form-group mb-3 row"},[o("label",{staticClass:"col-xl-3 col-sm-4 mb-0",attrs:{for:"validationCustom02"}},[t._v("Price :")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.products.price,expression:"products.price"}],staticClass:"form-control col-xl-8 col-sm-7",attrs:{placeholder:"Price",id:"validationCustom02",type:"text",required:""},domProps:{value:t.products.price},on:{input:function(e){e.target.composing||t.$set(t.products,"price",e.target.value)}}})]),t._v(" "),o("div",{staticClass:"form-group mb-3 row"},[o("label",{staticClass:"col-xl-3 col-sm-4 mb-0",attrs:{for:"validationCustom02"}},[t._v("Fake Price :")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.products.fake_price,expression:"products.fake_price"}],staticClass:"form-control col-xl-8 col-sm-7",attrs:{placeholder:"Fake Price",id:"validationCustom02",type:"text",required:""},domProps:{value:t.products.fake_price},on:{input:function(e){e.target.composing||t.$set(t.products,"fake_price",e.target.value)}}})]),t._v(" "),o("div",{staticClass:"form-group mb-3 row"},[o("label",{staticClass:"col-xl-3 col-sm-4 mb-0",attrs:{for:"validationCustom02"}},[t._v("discount :")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.products.discount,expression:"products.discount"}],staticClass:"form-control col-xl-8 col-sm-7",attrs:{placeholder:"discount",id:"validationCustom02",type:"text",required:""},domProps:{value:t.products.discount},on:{input:function(e){e.target.composing||t.$set(t.products,"discount",e.target.value)}}})]),t._v(" "),o("div",{staticClass:"form-group mb-3 row"}),t._v(" "),o("div",{staticClass:"form-group row dd d-block"},[o("label",{staticClass:"col-xl-3 col-sm-4 mb-0",attrs:{for:"exampleFormControlSelect1"}},[t._v("Status :")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.products.onsell,expression:"products.onsell"}],attrs:{id:"validationCustom02",type:"checkbox",required:""},domProps:{checked:Array.isArray(t.products.onsell)?t._i(t.products.onsell,null)>-1:t.products.onsell},on:{change:function(e){var r=t.products.onsell,o=e.target,c=!!o.checked;if(Array.isArray(r)){var n=t._i(r,null);o.checked?n<0&&t.$set(t.products,"onsell",r.concat([null])):n>-1&&t.$set(t.products,"onsell",r.slice(0,n).concat(r.slice(n+1)))}else t.$set(t.products,"onsell",c)}}}),t._v("\n                        On Sell\n                      ")])],1),t._v(" "),o("div",{staticClass:"offset-xl-3 offset-sm-4"},[o("button",{staticClass:"btn btn-primary",class:r?"btn-solid-disabled":"btn-solid",attrs:{type:"button",disabled:r},on:{click:t.sawProduct}},[t._v("\n                        Update\n                      ")]),t._v(" "),o("button",{staticClass:"btn btn-light ml-1",attrs:{type:"button"},on:{click:function(e){return t.$router.push("/admin/product")}}},[t._v("\n                        Discard\n                      ")])])])]}}])})],1)])])])])])]},proxy:!0}])})}),[],!1,null,null,null);e.default=component.exports}}]);